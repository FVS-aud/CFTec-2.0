<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Plataforma de Questões</title>
    <link rel="stylesheet" href="style.css">

    <script defer src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script> <script defer src="https://www.gstatic.com/firebasejs/9.23.0/firebase-auth-compat.js"></script> <script defer src="https://www.gstatic.com/firebasejs/9.23.0/firebase-firestore-compat.js"></script> <script src="https://cdn.jsdelivr.net/npm/chart.js"></script> </head>
<body>
    <header>
        <div class="logo-container">
            <img src="images/logo.png" alt="Logo" id="logo"> <h1>Plataforma de Questões</h1>
        </div>
        <nav id="user-nav">
            </nav>
    </header>

    <main>
        <aside class="sidebar">
            <h2>Filtros</h2>
            <div id="category-filters">
                <h3>Matérias</h3>
                <ul id="materias-list">
                    </ul>
                <h3>Assuntos</h3>
                <ul id="assuntos-list">
                    </ul>
            </div>
            <button id="create-notebook-btn">Novo Caderno</button>
            <div id="my-notebooks">
                <h3>Meus Cadernos</h3>
                <ul id="notebooks-list">
                    </ul>
            </div>
             <h3>Atalhos</h3>
            <ul id="shortcuts-list">
                <li><strong>A-E / 1-5:</strong> Selecionar alternativa</li>
                <li><strong>C / E:</strong> Selecionar Certo/Errado</li>
                <li><strong>Enter:</strong> Confirmar Resposta</li>
                <li><strong>Espaço:</strong> Próxima Questão</li>
                <li><strong>Backspace:</strong> Questão Anterior</li>
                <li><strong>F:</strong> Favoritar Questão</li>
                <li><strong>Duplo Clique na Alternativa:</strong> Taxar/Riscar</li>
            </ul>
        </aside>

        <section class="content">
            <div id="auth-container" class="auth-view">
                <h2>Acessar Plataforma</h2>
                <div id="login-form">
                    <h3>Login</h3>
                    <input type="email" id="login-email" placeholder="Email" required>
                    <input type="password" id="login-password" placeholder="Senha" required>
                    <button id="login-btn">Entrar</button>
                </div>
                <div id="signup-form">
                    <h3>Criar Conta</h3>
                    <input type="email" id="signup-email" placeholder="Email" required>
                    <input type="password" id="signup-password" placeholder="Senha" required>
                    <input type="text" id="signup-name" placeholder="Nome de Exibição" required>
                    <button id="signup-btn">Registrar</button>
                </div>
                <p id="auth-error" class="error-message"></p>
            </div>

            <div id="question-view" class="hidden">
                <div class="question-header">
                    <p id="breadcrumb">Questões > Todas</p>
                    <p>
                        Questão <span id="current-question-number">1</span> de <span id="total-questions">10</span>
                    </p>
                    <div>
                        <button id="prev-question-btn">Anterior</button>
                        <button id="next-question-btn">Próxima</button>
                        <button id="favorite-btn">Favoritar ☆</button>
                    </div>
                </div>
                <div id="question-container">
                    </div>
                <button id="submit-answer-btn">Responder</button>
                <div id="feedback-container">
                    </div>
                <div id="question-forum-btn-container">
                     <button id="toggle-forum-btn">Comentários da Questão</button>
                </div>
            </div>

            <div id="forum-view" class="hidden">
                <h3>Comentários sobre a questão <span id="forum-question-id-display"></span></h3>
                <div id="forum-comments-list">
                    </div>
                <textarea id="new-comment-text" placeholder="Escreva seu comentário..."></textarea>
                <button id="submit-comment-btn">Enviar Comentário</button>
            </div>

            <div id="stats-view" class="hidden">
                <h2>Minhas Estatísticas</h2>
                <div id="general-stats">
                    <canvas id="geralChart"></canvas>
                </div>
                <div id="difficulty-stats">
                    <canvas id="dificuldadeChart"></canvas>
                </div>
                <div id="subject-performance">
                    </div>
            </div>

            <div id="add-question-view" class="hidden">
                <h2>Adicionar Nova Questão</h2>
                <label for="add-q-statement">Enunciado:</label>
                <textarea id="add-q-statement"></textarea>
                <label for="add-q-type">Tipo:</label>
                <select id="add-q-type">
                    <option value="multiple_choice">Múltipla Escolha</option>
                    <option value="true_false">Certo/Errado</option>
                </select>
                <div id="add-q-options-mc">
                    <label>Alternativas (A-E):</label>
                    <input type="text" id="add-q-opt-a" placeholder="Alternativa A">
                    <input type="text" id="add-q-opt-b" placeholder="Alternativa B">
                    <input type="text" id="add-q-opt-c" placeholder="Alternativa C">
                    <input type="text" id="add-q-opt-d" placeholder="Alternativa D">
                    <input type="text" id="add-q-opt-e" placeholder="Alternativa E">
                    <label for="add-q-correct-mc">Correta (A-E):</label>
                    <select id="add-q-correct-mc">
                        <option value="0">A</option>
                        <option value="1">B</option>
                        <option value="2">C</option>
                        <option value="3">D</option>
                        <option value="4">E</option>
                    </select>
                </div>
                <div id="add-q-options-tf" class="hidden">
                     <label for="add-q-correct-tf">Resposta Correta:</label>
                     <select id="add-q-correct-tf">
                        <option value="true">Certo</option>
                        <option value="false">Errado</option>
                    </select>
                </div>
                <label for="add-q-justification">Justificativa:</label>
                <textarea id="add-q-justification"></textarea>
                <label for="add-q-subject">Matéria:</label>
                <input type="text" id="add-q-subject">
                <label for="add-q-topic">Assunto:</label>
                <input type="text" id="add-q-topic">
                <button id="submit-new-question-btn">Adicionar Questão</button>
            </div>
        </section>
    </main>

    <footer>
        <p>&copy; 2025 Sua Plataforma de Questões. Todos os direitos reservados.</p>
        <button id="show-stats-btn">Desempenho</button>
        <button id="show-add-question-btn">Adicionar Questão</button>
    </footer>

    <script type="module" src="firebase-config.js"></script>
    <script type="module" src="script.js"></script>
</body>
</html>
